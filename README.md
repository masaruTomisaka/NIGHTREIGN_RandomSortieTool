# ELDEN RING NIGHTREIGN
## ボス＆キャラ抽選ツール 仕様書

## 1. 概要
本ツールは、ELDEN RING NIGHTREIGN におけるマルチプレイ出撃前に、出撃ボス1体および出撃キャラ1〜3名をランダムに決定するための簡易抽選ツールである。

配信環境やボイスチャットでの使用を想定し、抽選結果が一瞬で視認できるUIと操作の簡潔さを重視して設計している。

## 2. 対象環境
- 単一HTMLファイルで動作するクライアントサイドツールである
- フレームワークや外部ライブラリは使用しない
- 画像はローカルファイル参照を前提とする

## 3. 基本仕様
### 3.1 出撃キャラ数
- 出撃キャラ数は1〜3名に制限する
- デフォルト値は3名とする
- 入力値はUIおよびJavaScriptロジックの両方で制限する

### 3.2 抽選単位
1回の抽選は以下で構成される。
- 出撃ボス：1体
- 出撃キャラ：1〜3名

## 4. キャラクター定義
### 4.1 定義項目
- key：内部識別用キー（英名）
- name：UI表示用キャラクター名（和名）
- img：キャラクター画像パス（英名ファイル）
- dlc：DLCキャラかどうかを示す真偽値

### 4.2 方針
- 内部識別子・画像ファイル名は英名で統一する
- UI表示は和名のままとする

## 5. ボス／ステージ定義
### 5.1 定義項目
- name：ボス名（和名）
- type：通常／常夜／深き夜
- dlc：DLCボスかどうか
- img：ボス画像パス

### 5.2 特記事項
- 常夜ボスは日替わり枠のため、常夜①〜③の固定表記とする
- 深き夜はモード枠として1エントリのみ管理する

## 6. 抽選ロジック
### 6.1 キャラ重複可設定
- ON：キャラ重複を許容する
- OFF：同一抽選内ではキャラ重複を禁止する

### 6.2 フィルタ仕様
- ステージタイプフィルタ（通常／常夜／深き夜）を持つ
- DLCトグルはボス・キャラ共通で制御する

## 7. UI仕様
### 7.1 レイアウト
- 抽選結果は必ず1行表示とする
- 表示順は「ボス → キャラ1 → キャラ2 → キャラ3」である
- 表示領域超過時は横スクロール表示とする

### 7.2 キャラ枠の色分け
- キャラ1：赤枠
- キャラ2：青枠
- キャラ3：緑枠

## 8. 履歴表示
- 抽選1回を1ブロックとして履歴管理する
- 履歴内も常にボス画像を表示する

## 9. エラーハンドリング
以下の場合、抽選は実行されない。
- ステージタイプが全てOFF
- 抽選対象が0件
- キャラ重複不可時にキャラ数不足
- 出撃キャラ数が範囲外

## 10. 非要件
- キャラ・ボス編集UI
- 重み付き抽選
- 外部API連携
